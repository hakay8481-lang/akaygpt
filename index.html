<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>AkayGPT</title>
</head>
<body>

<h2>AkayGPT</h2>

<textarea id="q" placeholder="Bir şey yazın..." rows="4"></textarea><br>
<button onclick="gonder()">Gönder</button>

<pre id="c"></pre>

<script>
async function gonder() {
  document.getElementById("c").innerText = "Yazıyor...";

  try {
    const res = await fetch(
      "https://akaygpt-proxy2.hakay8481.workers.dev/",
      {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          prompt: document.getElementById("q").value
        })
      }
    );

    const data = await res.json();

    // Worker’dan dönen JSON:
    // { reply: "..." }  
    // ya da başka yapıda olabilir

    const text = data?.reply ?? JSON.stringify(data);
    document.getElementById("c").innerText = text;

  } catch (e) {
    document.getElementById("c").innerText = "Bağlantı hatası";
  }
}
</script>

</body>
</html>
